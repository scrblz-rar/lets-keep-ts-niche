<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scrblz File Explorer</title>
  <style>
    body {
      margin:0; font-family:Consolas, monospace;
      display:flex; justify-content:center; align-items:center;
      min-height:100vh;
      background:repeating-conic-gradient(#e0e0e0 0% 25%, transparent 0% 50%) 50%/40px 40px;
    }
    /* Explorer window */
    .window {
      background:#f0f0f0; border:2px solid #666;
      border-radius:6px; box-shadow:4px 4px 0 #333;
      width:600px; max-width:92vw; overflow:hidden;
    }
    .titlebar {
      background:#e0e0e0; padding:6px 10px;
      font-weight:bold; border-bottom:2px solid #666;
      display:flex; justify-content:space-between; align-items:center;
    }
    .content { padding:18px; }
    ul { list-style:none; padding:0; margin:0; }
    li { margin:10px 0; }
    a { text-decoration:none; color:#0077cc; font-weight:bold; cursor:pointer; }
    a:hover { text-decoration:underline; }

    /* Game popup (like Windows window) */
    .popup {
      position:fixed; top:80px; left:80px;
      width:800px; height:500px;
      background:#fff; border:2px solid #444;
      border-radius:6px; box-shadow:6px 6px 20px rgba(0,0,0,.4);
      display:none; flex-direction:column;
      resize:both; overflow:hidden;
    }
    .popup .titlebar {
      background:#0078d7; color:white; border-bottom:1px solid #333;
      cursor:move;
    }
    .popup iframe {
      flex:1; border:0; width:100%; height:100%;
      background:#000;
    }
    .popup .controls {
      display:flex; gap:4px;
    }
    .btn {
      border:none; padding:4px 10px; cursor:pointer;
      font-weight:bold; border-radius:2px;
    }
    .btn.close { background:#e81123; color:white; }
    .btn.full { background:#ddd; }
  </style>
</head>
<body>
  <!-- Main File Explorer window -->
  <div class="window">
    <div class="titlebar">ðŸ“‚ File Explorer</div>
    <div class="content">
      <p>C:\SCRBLZ\games\</p>
      <ul>
        <li><a onclick="openGame('deltarune.html','Deltarune')">ðŸ“„ deltarune.html</a></li>
        <li><a onclick="openGame('undertale.html','Undertale')">ðŸ“„ undertale.html</a></li>
      </ul>
    </div>
  </div>

  <!-- Popup template -->
  <div id="popup" class="popup">
    <div class="titlebar" id="popupTitle">
      <span id="popupName">Game Window</span>
      <div class="controls">
        <button class="btn full" onclick="fullscreenGame()">â›¶</button>
        <button class="btn close" onclick="closeGame()">âœ•</button>
      </div>
    </div>
    <iframe id="gameFrame"></iframe>
  </div>

  <script>
    const popup = document.getElementById('popup');
    const frame = document.getElementById('gameFrame');
    const popupName = document.getElementById('popupName');

    function openGame(file, title){
      frame.src = "https://scrblz-rar.github.io/webport/games/" + file;
      popupName.textContent = title;
      popup.style.display = "flex";
    }
    function closeGame(){
      popup.style.display = "none";
      frame.src = "";
    }
    function fullscreenGame(){
      if (popup.requestFullscreen) popup.requestFullscreen();
    }

    // Dragging logic
    let isDragging = false, offsetX, offsetY;
    const titlebar = document.getElementById('popupTitle');
    titlebar.addEventListener('mousedown', (e)=>{
      isDragging = true;
      offsetX = e.clientX - popup.offsetLeft;
      offsetY = e.clientY - popup.offsetTop;
    });
    window.addEventListener('mousemove', (e)=>{
      if(!isDragging) return;
      popup.style.left = (e.clientX - offsetX) + "px";
      popup.style.top = (e.clientY - offsetY) + "px";
    });
    window.addEventListener('mouseup', ()=> isDragging=false);
  </script>
</body>
</html>
